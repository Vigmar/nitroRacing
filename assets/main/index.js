System.register("chunks:///_virtual/CameraFollow.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,o,r,n,s,a,l,f,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,a=e.Node,l=e.Vec3,f=e.math,p=e.Component}],execute:function(){var u,c,d,h,m,y,w,b,g,P,z,v,x;n._RF.push({},"41078GzJZ9I0r0kslqb6iM/","CameraFollow",void 0);e("CameraFollow",(u=s.ccclass("CameraFollow"),c=s.property({type:a}),d=s.property,h=s.property,m=s.property,y=s.property,u((g=t((b=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,o(t,"target",g,r(t)),o(t,"offset",P,r(t)),o(t,"sideOffsetFactor",z,r(t)),o(t,"smoothSpeed",v,r(t)),o(t,"maxSideOffset",x,r(t)),t.desiredPosition=new l,t.smoothedPosition=new l,t}return i(t,e),t.prototype.update=function(e){if(this.target){var t=this.target.worldPosition,i=this.target.worldRotation,o=new l;i.getEulerAngles(o);var r=o.y,n=new l,s=f.clamp(r/45,-1,1);n.x=-s*this.maxSideOffset;new l(this.offset.x+n.x,this.offset.y,this.offset.z);l.transformQuat(this.desiredPosition,this.offset,i),l.add(this.desiredPosition,this.desiredPosition,t),this.smoothedPosition.lerp(this.desiredPosition,this.smoothSpeed*e),this.node.worldPosition=this.smoothedPosition;var a=new l(t.x,t.y+1,t.z);this.node.lookAt(a)}},t}(p)).prototype,"target",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(b.prototype,"offset",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(0,5,-10)}}),z=t(b.prototype,"sideOffsetFactor",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),v=t(b.prototype,"smoothSpeed",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),x=t(b.prototype,"maxSideOffset",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),w=b))||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/CarController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,n,a,o,s,c,l,p,u,g,h,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.RigidBody,c=e.input,l=e.Input,p=e.KeyCode,u=e.math,g=e.Vec3,h=e.Quat,y=e.Component}],execute:function(){var d,m,f,S,b,w,v,E,K,x,z,D,A,_,k,F,B,C,Y,I,N;a._RF.push({},"57df0hk2QhNIqQ9WAAt5mD+","CarController",void 0);e("CarController",(d=o.ccclass("CarController"),m=o.property({type:s}),f=o.property({displayName:"Max Speed",min:0}),S=o.property({displayName:"Acceleration",min:0}),b=o.property({displayName:"Deceleration",min:0}),w=o.property({displayName:"Steering Force",min:0}),v=o.property({displayName:"Max Steering Angle",min:0,max:45}),E=o.property({displayName:"Steering Responsiveness",min:.1,max:1}),K=o.property({displayName:"Drag",min:0}),x=o.property({displayName:"Down Force",min:0}),d((A=t((D=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"rigidBody",A,n(t)),i(t,"maxSpeed",_,n(t)),i(t,"acceleration",k,n(t)),i(t,"deceleration",F,n(t)),i(t,"steeringForce",B,n(t)),i(t,"maxSteeringAngle",C,n(t)),i(t,"steeringResponsiveness",Y,n(t)),i(t,"drag",I,n(t)),i(t,"downForce",N,n(t)),t.currentSpeed=0,t.currentSteering=0,t.targetSteeringInput=0,t.isAccelerating=!1,t.isBraking=!1,t}r(t,e);var a=t.prototype;return a.onLoad=function(){c.on(l.EventType.KEY_DOWN,this.onKeyDown,this),c.on(l.EventType.KEY_UP,this.onKeyUp,this)},a.onDestroy=function(){c.off(l.EventType.KEY_DOWN,this.onKeyDown,this),c.off(l.EventType.KEY_UP,this.onKeyUp,this)},a.onKeyDown=function(e){switch(e.keyCode){case p.KEY_W:this.isAccelerating=!0;break;case p.KEY_S:this.isBraking=!0;break;case p.KEY_A:this.targetSteeringInput=1;break;case p.KEY_D:this.targetSteeringInput=-1}},a.onKeyUp=function(e){switch(e.keyCode){case p.KEY_W:this.isAccelerating=!1;break;case p.KEY_S:this.isBraking=!1;break;case p.KEY_A:1===this.targetSteeringInput&&(this.targetSteeringInput=0);break;case p.KEY_D:-1===this.targetSteeringInput&&(this.targetSteeringInput=0)}},a.update=function(e){if(this.currentSteering=u.lerp(this.currentSteering,this.targetSteeringInput,this.steeringResponsiveness*e*10),this.isAccelerating?this.currentSpeed=Math.min(this.currentSpeed+this.acceleration*e,this.maxSpeed):this.isBraking?this.currentSpeed=Math.max(this.currentSpeed-this.deceleration*e,-this.maxSpeed/2):Math.abs(this.currentSpeed),Math.abs(this.currentSpeed)>.1){var t=this.node.forward.clone().multiplyScalar(-this.currentSpeed);this.rigidBody.setLinearVelocity(new g(t.x,0,t.z))}if(0!==this.currentSteering&&Math.abs(this.currentSpeed)>.1){var r=u.toRadian(this.maxSteeringAngle)*this.currentSteering,i=Math.sin(r)*this.currentSpeed*this.steeringForce,n=this.node.right.clone(),a=this.node.forward.clone(),o=n.multiplyScalar(-i*e*100);this.rigidBody.applyForce(o,a)}this.applyDownForce()},a.applyDownForce=function(){var e=-this.downForce*Math.abs(this.currentSpeed),t=new g(0,e,0);this.rigidBody.applyForce(t,g.ZERO)},a.stabilizeCar=function(e){var t=this.rigidBody.angularVelocity,r=5*e,i=new g(t.x*(1-r),t.y*(1-.5*r),t.z*(1-r));this.rigidBody.setAngularVelocity(i);var n=this.node.rotation,a=n.getEulerAngles(new g);a.x=u.lerp(a.x,0,5*e),a.z=u.lerp(a.z,0,5*e),h.fromEuler(n,a.x,a.y,a.z)},t}(y)).prototype,"rigidBody",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(D.prototype,"maxSpeed",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),k=t(D.prototype,"acceleration",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),F=t(D.prototype,"deceleration",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),B=t(D.prototype,"steeringForce",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),C=t(D.prototype,"maxSteeringAngle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Y=t(D.prototype,"steeringResponsiveness",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),I=t(D.prototype,"drag",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.9}}),N=t(D.prototype,"downForce",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),z=D))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./CameraFollow.ts","./CarController.ts"],(function(){return{setters:[null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});